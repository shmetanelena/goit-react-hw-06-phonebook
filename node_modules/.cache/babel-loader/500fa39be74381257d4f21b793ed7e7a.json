{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { nanoid } from 'nanoid';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web\n\nconst NAME = 'contacts';\n\nconst saveContacts = items => {// window.localStorage.setItem(NAME, JSON.stringify(items));\n};\n\nexport const contactsSlice = createSlice({\n  name: NAME,\n  initialState: {\n    items: [],\n    //JSON.parse(window.localStorage.getItem(NAME)) ?? [],\n    filter: ''\n  },\n  reducers: {\n    addContact: {\n      reducer: (state, action) => {\n        state.items.push(action.payload);\n        saveContacts(state.items);\n      },\n      prepare: _ref => {\n        let {\n          name,\n          number\n        } = _ref;\n        return {\n          payload: {\n            id: nanoid(),\n            name,\n            number\n          }\n        };\n      }\n    },\n\n    delContact(state, action) {\n      state.items = state.items.filter(item => item.id !== action.payload);\n      saveContacts(state.items);\n    },\n\n    setFilter(state, action) {\n      state.filter = action.payload;\n    }\n\n  }\n});\nexport const {\n  addContact,\n  delContact,\n  setFilter\n} = contactsSlice.actions;\nconst persistConfig = {\n  key: 'root',\n  storage\n};\nexport const contactsReducer = persistReducer(persistConfig, contactsSlice.reducer);","map":{"version":3,"sources":["/Users/elenaelenova/Projects/goit-react-hw-06-phonebook/src/redux/contactsSlice.js"],"names":["createSlice","nanoid","persistReducer","storage","NAME","saveContacts","items","contactsSlice","name","initialState","filter","reducers","addContact","reducer","state","action","push","payload","prepare","number","id","delContact","item","setFilter","actions","persistConfig","key","contactsReducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,OAAP,MAAoB,2BAApB,C,CAAiD;;AAEjD,MAAMC,IAAI,GAAG,UAAb;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI,CAC5B;AACD,CAFD;;AAIA,OAAO,MAAMC,aAAa,GAAGP,WAAW,CAAC;AACvCQ,EAAAA,IAAI,EAAEJ,IADiC;AAEvCK,EAAAA,YAAY,EAAE;AACZH,IAAAA,KAAK,EAAE,EADK;AACD;AACXI,IAAAA,MAAM,EAAE;AAFI,GAFyB;AAMvCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC1BD,QAAAA,KAAK,CAACR,KAAN,CAAYU,IAAZ,CAAiBD,MAAM,CAACE,OAAxB;AACAZ,QAAAA,YAAY,CAACS,KAAK,CAACR,KAAP,CAAZ;AACD,OAJS;AAKVY,MAAAA,OAAO,EAAE,QAAsB;AAAA,YAArB;AAAEV,UAAAA,IAAF;AAAQW,UAAAA;AAAR,SAAqB;AAC7B,eAAO;AAAEF,UAAAA,OAAO,EAAE;AAAEG,YAAAA,EAAE,EAAEnB,MAAM,EAAZ;AAAgBO,YAAAA,IAAhB;AAAsBW,YAAAA;AAAtB;AAAX,SAAP;AACD;AAPS,KADJ;;AAURE,IAAAA,UAAU,CAACP,KAAD,EAAQC,MAAR,EAAgB;AACxBD,MAAAA,KAAK,CAACR,KAAN,GAAcQ,KAAK,CAACR,KAAN,CAAYI,MAAZ,CAAmBY,IAAI,IAAIA,IAAI,CAACF,EAAL,KAAYL,MAAM,CAACE,OAA9C,CAAd;AACAZ,MAAAA,YAAY,CAACS,KAAK,CAACR,KAAP,CAAZ;AACD,KAbO;;AAcRiB,IAAAA,SAAS,CAACT,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACJ,MAAN,GAAeK,MAAM,CAACE,OAAtB;AACD;;AAhBO;AAN6B,CAAD,CAAjC;AA0BP,OAAO,MAAM;AAAEL,EAAAA,UAAF;AAAcS,EAAAA,UAAd;AAA0BE,EAAAA;AAA1B,IAAwChB,aAAa,CAACiB,OAA5D;AAEP,MAAMC,aAAa,GAAG;AACpBC,EAAAA,GAAG,EAAE,MADe;AAEpBvB,EAAAA;AAFoB,CAAtB;AAKA,OAAO,MAAMwB,eAAe,GAAGzB,cAAc,CAC3CuB,aAD2C,EAE3ClB,aAAa,CAACM,OAF6B,CAAtC","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { nanoid } from 'nanoid';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web\n\nconst NAME = 'contacts';\n\nconst saveContacts = items => {\n  // window.localStorage.setItem(NAME, JSON.stringify(items));\n};\n\nexport const contactsSlice = createSlice({\n  name: NAME,\n  initialState: {\n    items: [], //JSON.parse(window.localStorage.getItem(NAME)) ?? [],\n    filter: '',\n  },\n  reducers: {\n    addContact: {\n      reducer: (state, action) => {\n        state.items.push(action.payload);\n        saveContacts(state.items);\n      },\n      prepare: ({ name, number }) => {\n        return { payload: { id: nanoid(), name, number } };\n      },\n    },\n    delContact(state, action) {\n      state.items = state.items.filter(item => item.id !== action.payload);\n      saveContacts(state.items);\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport const { addContact, delContact, setFilter } = contactsSlice.actions;\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n};\n\nexport const contactsReducer = persistReducer(\n  persistConfig,\n  contactsSlice.reducer\n);\n"]},"metadata":{},"sourceType":"module"}